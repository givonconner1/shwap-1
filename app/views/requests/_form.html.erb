<div class="container">
  <%= form_for [@availability, @request] do |form| %>
  <% if request.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(request.errors.count, "error") %> prohibited this request from being saved:</h2>

      <ul>
      <% request.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<h4>
  Currently assigned: <%= @availability.title %></h4>
  <br>
      <h5>
        Who do you want to take this shift? <%= form.select :user_id, User.pluck(:email, :id) %>
  </h5>
  <div class="field">
    <%= form.label :comment, "Why are you requesting this shift off?" %>
    <%= form.text_area :comment, class: 'form-control' %>
  </div>
<br>
  <div class="actions">
    <%= form.submit "Request Shift Swap", class: 'w3-btn btn btn-round w3-green' %>
  </div>
<% end %>
  
</div>

<script>
function myFunction() {
    var input, filter, ul, li, a, i;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
</script>


